<!-- Archivo: src/main/resources/templates/fragments/cart-offcanvas.html -->
<div th:fragment="cartOffcanvas" 
     class="offcanvas offcanvas-end bg-primary text-white" 
     tabindex="-1" id="cartOffcanvas" aria-labelledby="cartOffcanvasLabel">

    <!-- Cabecera del Offcanvas -->
    <div class="offcanvas-header border-bottom border-secondary">
        <h5 class="offcanvas-title fw-bold" id="cartOffcanvasLabel">Mi Carrito</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>

    <!-- Cuerpo del Offcanvas (aquí se cargarán los productos dinámicamente) -->
    <div class="offcanvas-body">
        
        <!-- Contenedor para los ítems del carrito -->
        <div id="cart-offcanvas-items-container">
            <!-- Mensaje de carga o carrito vacío que se mostrará inicialmente -->
            <p id="cart-offcanvas-placeholder">Cargando productos...</p>
        </div>

        <!-- Sección del total (separada para que quede al final) -->
        <div class="mt-auto pt-3 border-top border-secondary">
            <div class="d-flex justify-content-between mb-2">
                <span>Subtotal:</span>
                <span id="cart-offcanvas-subtotal">€0.00</span>
            </div>
            <div class="d-flex justify-content-between fw-bold fs-4">
                <span>Total:</span>
                <span id="cart-offcanvas-total">€0.00</span>
            </div>
            <div class="d-grid gap-2 mt-4">
                <a th:href="@{/carrito}" class="btn btn-warning fw-bold">Ver Carrito Completo</a>
                <a href="#" class="btn btn-outline-light">Finalizar Compra</a>
            </div>
        </div>
    </div>
    <script th:src="@{/js/cart-offcanvas.js}"></script>
</div>